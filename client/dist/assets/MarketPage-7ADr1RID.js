import{r as j,c as ce,g as _e,j as c,L as be}from"./index-cvejRj4b.js";import{T as Y,a as Oe,c as G,f as Ce}from"./api-CD02ouTW.js";function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)({}).hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},oe.apply(null,arguments)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},ae(t,e)}function Le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ae(t,e)}var me=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Re(t,e){return!!(t===e||me(t)&&me(e))}function ze(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!Re(t[i],e[i]))return!1;return!0}function re(t,e){e===void 0&&(e=ze);var i,o=[],p,I=!1;function f(){for(var N=[],x=0;x<arguments.length;x++)N[x]=arguments[x];return I&&i===this&&e(N,o)||(p=t.apply(this,N),I=!0,i=this,o=N),p}return f}function fe(t,e){if(t==null)return{};var i={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;i[o]=t[o]}return i}var Ee=typeof performance=="object"&&typeof performance.now=="function",pe=Ee?function(){return performance.now()}:function(){return Date.now()};function ve(t){cancelAnimationFrame(t.id)}function Pe(t,e){var i=pe();function o(){pe()-i>=e?t.call(null):p.id=requestAnimationFrame(o)}var p={id:requestAnimationFrame(o)};return p}var ne=-1;function ge(t){if(t===void 0&&(t=!1),ne===-1||t){var e=document.createElement("div"),i=e.style;i.width="50px",i.height="50px",i.overflow="scroll",document.body.appendChild(e),ne=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ne}var J=null;function ye(t){if(t===void 0&&(t=!1),J===null||t){var e=document.createElement("div"),i=e.style;i.width="50px",i.height="50px",i.overflow="scroll",i.direction="rtl";var o=document.createElement("div"),p=o.style;return p.width="100px",p.height="100px",e.appendChild(o),document.body.appendChild(e),e.scrollLeft>0?J="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?J="negative":J="positive-ascending"),document.body.removeChild(e),J}return J}var ke=150,Fe=function(e,i){return e};function Ae(t){var e,i=t.getItemOffset,o=t.getEstimatedTotalSize,p=t.getItemSize,I=t.getOffsetForIndexAndAlignment,f=t.getStartIndexForOffset,N=t.getStopIndexForStartIndex,x=t.initInstanceProps,g=t.shouldResetStyleCacheOnItemSizeChange,_=t.validateProps;return e=function(O){Le(R,O);function R(v){var r;return r=O.call(this,v)||this,r._instanceProps=x(r.props,he(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:he(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof r.props.initialScrollOffset=="number"?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=re(function(h,u,b,y){return r.props.onItemsRendered({overscanStartIndex:h,overscanStopIndex:u,visibleStartIndex:b,visibleStopIndex:y})}),r._callOnScroll=void 0,r._callOnScroll=re(function(h,u,b){return r.props.onScroll({scrollDirection:h,scrollOffset:u,scrollUpdateWasRequested:b})}),r._getItemStyle=void 0,r._getItemStyle=function(h){var u=r.props,b=u.direction,y=u.itemSize,L=u.layout,S=r._getItemStyleCache(g&&y,g&&L,g&&b),$;if(S.hasOwnProperty(h))$=S[h];else{var z=i(r.props,h,r._instanceProps),F=p(r.props,h,r._instanceProps),H=b==="horizontal"||L==="horizontal",k=b==="rtl",C=H?z:0;S[h]=$={position:"absolute",left:k?void 0:C,right:k?C:void 0,top:H?0:z,height:H?"100%":F,width:H?F:"100%"}}return $},r._getItemStyleCache=void 0,r._getItemStyleCache=re(function(h,u,b){return{}}),r._onScrollHorizontal=function(h){var u=h.currentTarget,b=u.clientWidth,y=u.scrollLeft,L=u.scrollWidth;r.setState(function(S){if(S.scrollOffset===y)return null;var $=r.props.direction,z=y;if($==="rtl")switch(ye()){case"negative":z=-y;break;case"positive-descending":z=L-b-y;break}return z=Math.max(0,Math.min(z,L-b)),{isScrolling:!0,scrollDirection:S.scrollOffset<y?"forward":"backward",scrollOffset:z,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(h){var u=h.currentTarget,b=u.clientHeight,y=u.scrollHeight,L=u.scrollTop;r.setState(function(S){if(S.scrollOffset===L)return null;var $=Math.max(0,Math.min(L,y-b));return{isScrolling:!0,scrollDirection:S.scrollOffset<$?"forward":"backward",scrollOffset:$,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(h){var u=r.props.outerRef;r._outerRef=h,typeof u=="function"?u(h):u!=null&&typeof u=="object"&&u.hasOwnProperty("current")&&(u.current=h)},r._resetIsScrollingDebounced=function(){r._resetIsScrollingTimeoutId!==null&&ve(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Pe(r._resetIsScrolling,ke)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}R.getDerivedStateFromProps=function(r,h){return He(r,h),_(r),null};var D=R.prototype;return D.scrollTo=function(r){r=Math.max(0,r),this.setState(function(h){return h.scrollOffset===r?null:{scrollDirection:h.scrollOffset<r?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},D.scrollToItem=function(r,h){h===void 0&&(h="auto");var u=this.props,b=u.itemCount,y=u.layout,L=this.state.scrollOffset;r=Math.max(0,Math.min(r,b-1));var S=0;if(this._outerRef){var $=this._outerRef;y==="vertical"?S=$.scrollWidth>$.clientWidth?ge():0:S=$.scrollHeight>$.clientHeight?ge():0}this.scrollTo(I(this.props,r,h,L,this._instanceProps,S))},D.componentDidMount=function(){var r=this.props,h=r.direction,u=r.initialScrollOffset,b=r.layout;if(typeof u=="number"&&this._outerRef!=null){var y=this._outerRef;h==="horizontal"||b==="horizontal"?y.scrollLeft=u:y.scrollTop=u}this._callPropsCallbacks()},D.componentDidUpdate=function(){var r=this.props,h=r.direction,u=r.layout,b=this.state,y=b.scrollOffset,L=b.scrollUpdateWasRequested;if(L&&this._outerRef!=null){var S=this._outerRef;if(h==="horizontal"||u==="horizontal")if(h==="rtl")switch(ye()){case"negative":S.scrollLeft=-y;break;case"positive-ascending":S.scrollLeft=y;break;default:var $=S.clientWidth,z=S.scrollWidth;S.scrollLeft=z-$-y;break}else S.scrollLeft=y;else S.scrollTop=y}this._callPropsCallbacks()},D.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ve(this._resetIsScrollingTimeoutId)},D.render=function(){var r=this.props,h=r.children,u=r.className,b=r.direction,y=r.height,L=r.innerRef,S=r.innerElementType,$=r.innerTagName,z=r.itemCount,F=r.itemData,H=r.itemKey,k=H===void 0?Fe:H,C=r.layout,q=r.outerElementType,Z=r.outerTagName,w=r.style,n=r.useIsScrolling,s=r.width,l=this.state.isScrolling,a=b==="horizontal"||C==="horizontal",m=a?this._onScrollHorizontal:this._onScrollVertical,d=this._getRangeToRender(),M=d[0],T=d[1],P=[];if(z>0)for(var E=M;E<=T;E++)P.push(j.createElement(h,{data:F,key:k(E,F),index:E,isScrolling:n?l:void 0,style:this._getItemStyle(E)}));var A=o(this.props,this._instanceProps);return j.createElement(q||Z||"div",{className:u,onScroll:m,ref:this._outerRefSetter,style:oe({position:"relative",height:y,width:s,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:b},w)},j.createElement(S||$||"div",{children:P,ref:L,style:{height:a?"100%":A,pointerEvents:l?"none":void 0,width:a?A:"100%"}}))},D._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var r=this.props.itemCount;if(r>0){var h=this._getRangeToRender(),u=h[0],b=h[1],y=h[2],L=h[3];this._callOnItemsRendered(u,b,y,L)}}if(typeof this.props.onScroll=="function"){var S=this.state,$=S.scrollDirection,z=S.scrollOffset,F=S.scrollUpdateWasRequested;this._callOnScroll($,z,F)}},D._getRangeToRender=function(){var r=this.props,h=r.itemCount,u=r.overscanCount,b=this.state,y=b.isScrolling,L=b.scrollDirection,S=b.scrollOffset;if(h===0)return[0,0,0,0];var $=f(this.props,S,this._instanceProps),z=N(this.props,$,S,this._instanceProps),F=!y||L==="backward"?Math.max(1,u):1,H=!y||L==="forward"?Math.max(1,u):1;return[Math.max(0,$-F),Math.max(0,Math.min(h-1,z+H)),$,z]},R}(j.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var He=function(e,i){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,i.instance},We=Ae({getItemOffset:function(e,i){var o=e.itemSize;return i*o},getItemSize:function(e,i){var o=e.itemSize;return o},getEstimatedTotalSize:function(e){var i=e.itemCount,o=e.itemSize;return o*i},getOffsetForIndexAndAlignment:function(e,i,o,p,I,f){var N=e.direction,x=e.height,g=e.itemCount,_=e.itemSize,O=e.layout,R=e.width,D=N==="horizontal"||O==="horizontal",v=D?R:x,r=Math.max(0,g*_-v),h=Math.min(r,i*_),u=Math.max(0,i*_-v+_+f);switch(o==="smart"&&(p>=u-v&&p<=h+v?o="auto":o="center"),o){case"start":return h;case"end":return u;case"center":{var b=Math.round(u+(h-u)/2);return b<Math.ceil(v/2)?0:b>r+Math.floor(v/2)?r:b}case"auto":default:return p>=u&&p<=h?p:p<u?u:h}},getStartIndexForOffset:function(e,i){var o=e.itemCount,p=e.itemSize;return Math.max(0,Math.min(o-1,Math.floor(i/p)))},getStopIndexForStartIndex:function(e,i,o){var p=e.direction,I=e.height,f=e.itemCount,N=e.itemSize,x=e.layout,g=e.width,_=p==="horizontal"||x==="horizontal",O=i*N,R=_?g:I,D=Math.ceil((R+o-O)/N);return Math.max(0,Math.min(f-1,i+D-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function Se(t,e){for(var i in t)if(!(i in e))return!0;for(var o in e)if(t[o]!==e[o])return!0;return!1}var Ye=["style"],Ue=["style"];function Ve(t,e){var i=t.style,o=fe(t,Ye),p=e.style,I=fe(e,Ue);return!Se(i,p)&&!Se(o,I)}var se={exports:{}},we;function xe(){return we||(we=1,function(t,e){(function(i,o){t.exports=o()})(ce,function(){var i=1e3,o=6e4,p=36e5,I="millisecond",f="second",N="minute",x="hour",g="day",_="week",O="month",R="quarter",D="year",v="date",r="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var n=["th","st","nd","rd"],s=w%100;return"["+w+(n[(s-20)%10]||n[s]||n[0])+"]"}},y=function(w,n,s){var l=String(w);return!l||l.length>=n?w:""+Array(n+1-l.length).join(s)+w},L={s:y,z:function(w){var n=-w.utcOffset(),s=Math.abs(n),l=Math.floor(s/60),a=s%60;return(n<=0?"+":"-")+y(l,2,"0")+":"+y(a,2,"0")},m:function w(n,s){if(n.date()<s.date())return-w(s,n);var l=12*(s.year()-n.year())+(s.month()-n.month()),a=n.clone().add(l,O),m=s-a<0,d=n.clone().add(l+(m?-1:1),O);return+(-(l+(s-a)/(m?a-d:d-a))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:O,y:D,w:_,d:g,D:v,h:x,m:N,s:f,ms:I,Q:R}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},S="en",$={};$[S]=b;var z="$isDayjsObject",F=function(w){return w instanceof q||!(!w||!w[z])},H=function w(n,s,l){var a;if(!n)return S;if(typeof n=="string"){var m=n.toLowerCase();$[m]&&(a=m),s&&($[m]=s,a=m);var d=n.split("-");if(!a&&d.length>1)return w(d[0])}else{var M=n.name;$[M]=n,a=M}return!l&&a&&(S=a),a||!l&&S},k=function(w,n){if(F(w))return w.clone();var s=typeof n=="object"?n:{};return s.date=w,s.args=arguments,new q(s)},C=L;C.l=H,C.i=F,C.w=function(w,n){return k(w,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var q=function(){function w(s){this.$L=H(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[z]=!0}var n=w.prototype;return n.parse=function(s){this.$d=function(l){var a=l.date,m=l.utc;if(a===null)return new Date(NaN);if(C.u(a))return new Date;if(a instanceof Date)return new Date(a);if(typeof a=="string"&&!/Z$/i.test(a)){var d=a.match(h);if(d){var M=d[2]-1||0,T=(d[7]||"0").substring(0,3);return m?new Date(Date.UTC(d[1],M,d[3]||1,d[4]||0,d[5]||0,d[6]||0,T)):new Date(d[1],M,d[3]||1,d[4]||0,d[5]||0,d[6]||0,T)}}return new Date(a)}(s),this.init()},n.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},n.$utils=function(){return C},n.isValid=function(){return this.$d.toString()!==r},n.isSame=function(s,l){var a=k(s);return this.startOf(l)<=a&&a<=this.endOf(l)},n.isAfter=function(s,l){return k(s)<this.startOf(l)},n.isBefore=function(s,l){return this.endOf(l)<k(s)},n.$g=function(s,l,a){return C.u(s)?this[l]:this.set(a,s)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(s,l){var a=this,m=!!C.u(l)||l,d=C.p(s),M=function(K,W){var B=C.w(a.$u?Date.UTC(a.$y,W,K):new Date(a.$y,W,K),a);return m?B:B.endOf(g)},T=function(K,W){return C.w(a.toDate()[K].apply(a.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(W)),a)},P=this.$W,E=this.$M,A=this.$D,V="set"+(this.$u?"UTC":"");switch(d){case D:return m?M(1,0):M(31,11);case O:return m?M(1,E):M(0,E+1);case _:var U=this.$locale().weekStart||0,X=(P<U?P+7:P)-U;return M(m?A-X:A+(6-X),E);case g:case v:return T(V+"Hours",0);case x:return T(V+"Minutes",1);case N:return T(V+"Seconds",2);case f:return T(V+"Milliseconds",3);default:return this.clone()}},n.endOf=function(s){return this.startOf(s,!1)},n.$set=function(s,l){var a,m=C.p(s),d="set"+(this.$u?"UTC":""),M=(a={},a[g]=d+"Date",a[v]=d+"Date",a[O]=d+"Month",a[D]=d+"FullYear",a[x]=d+"Hours",a[N]=d+"Minutes",a[f]=d+"Seconds",a[I]=d+"Milliseconds",a)[m],T=m===g?this.$D+(l-this.$W):l;if(m===O||m===D){var P=this.clone().set(v,1);P.$d[M](T),P.init(),this.$d=P.set(v,Math.min(this.$D,P.daysInMonth())).$d}else M&&this.$d[M](T);return this.init(),this},n.set=function(s,l){return this.clone().$set(s,l)},n.get=function(s){return this[C.p(s)]()},n.add=function(s,l){var a,m=this;s=Number(s);var d=C.p(l),M=function(E){var A=k(m);return C.w(A.date(A.date()+Math.round(E*s)),m)};if(d===O)return this.set(O,this.$M+s);if(d===D)return this.set(D,this.$y+s);if(d===g)return M(1);if(d===_)return M(7);var T=(a={},a[N]=o,a[x]=p,a[f]=i,a)[d]||1,P=this.$d.getTime()+s*T;return C.w(P,this)},n.subtract=function(s,l){return this.add(-1*s,l)},n.format=function(s){var l=this,a=this.$locale();if(!this.isValid())return a.invalidDate||r;var m=s||"YYYY-MM-DDTHH:mm:ssZ",d=C.z(this),M=this.$H,T=this.$m,P=this.$M,E=a.weekdays,A=a.months,V=a.meridiem,U=function(W,B,Q,ee){return W&&(W[B]||W(l,m))||Q[B].slice(0,ee)},X=function(W){return C.s(M%12||12,W,"0")},K=V||function(W,B,Q){var ee=W<12?"AM":"PM";return Q?ee.toLowerCase():ee};return m.replace(u,function(W,B){return B||function(Q){switch(Q){case"YY":return String(l.$y).slice(-2);case"YYYY":return C.s(l.$y,4,"0");case"M":return P+1;case"MM":return C.s(P+1,2,"0");case"MMM":return U(a.monthsShort,P,A,3);case"MMMM":return U(A,P);case"D":return l.$D;case"DD":return C.s(l.$D,2,"0");case"d":return String(l.$W);case"dd":return U(a.weekdaysMin,l.$W,E,2);case"ddd":return U(a.weekdaysShort,l.$W,E,3);case"dddd":return E[l.$W];case"H":return String(M);case"HH":return C.s(M,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return K(M,T,!0);case"A":return K(M,T,!1);case"m":return String(T);case"mm":return C.s(T,2,"0");case"s":return String(l.$s);case"ss":return C.s(l.$s,2,"0");case"SSS":return C.s(l.$ms,3,"0");case"Z":return d}return null}(W)||d.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(s,l,a){var m,d=this,M=C.p(l),T=k(s),P=(T.utcOffset()-this.utcOffset())*o,E=this-T,A=function(){return C.m(d,T)};switch(M){case D:m=A()/12;break;case O:m=A();break;case R:m=A()/3;break;case _:m=(E-P)/6048e5;break;case g:m=(E-P)/864e5;break;case x:m=E/p;break;case N:m=E/o;break;case f:m=E/i;break;default:m=E}return a?m:C.a(m)},n.daysInMonth=function(){return this.endOf(O).$D},n.$locale=function(){return $[this.$L]},n.locale=function(s,l){if(!s)return this.$L;var a=this.clone(),m=H(s,l,!0);return m&&(a.$L=m),a},n.clone=function(){return C.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},w}(),Z=q.prototype;return k.prototype=Z,[["$ms",I],["$s",f],["$m",N],["$H",x],["$W",g],["$M",O],["$y",D],["$D",v]].forEach(function(w){Z[w[1]]=function(n){return this.$g(n,w[0],w[1])}}),k.extend=function(w,n){return w.$i||(w(n,q,k),w.$i=!0),k},k.locale=H,k.isDayjs=F,k.unix=function(w){return k(1e3*w)},k.en=$[S],k.Ls=$,k.p={},k})}(se)),se.exports}var qe=xe();const ue=_e(qe);var Me={exports:{}};(function(t,e){(function(i,o){t.exports=o()})(ce,function(){return function(i,o,p){i=i||{};var I=o.prototype,f={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function N(g,_,O,R){return I.fromToBase(g,_,O,R)}p.en.relativeTime=f,I.fromToBase=function(g,_,O,R,D){for(var v,r,h,u=O.$locale().relativeTime||f,b=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],y=b.length,L=0;L<y;L+=1){var S=b[L];S.d&&(v=R?p(g).diff(O,S.d,!0):O.diff(g,S.d,!0));var $=(i.rounding||Math.round)(Math.abs(v));if(h=v>0,$<=S.r||!S.r){$<=1&&L>0&&(S=b[L-1]);var z=u[S.l];D&&($=D(""+$)),r=typeof z=="string"?z.replace("%d",$):z($,_,S.l,h);break}}if(_)return r;var F=h?u.future:u.past;return typeof F=="function"?F(r):F.replace("%s",r)},I.to=function(g,_){return N(g,_,this,!0)},I.from=function(g,_){return N(g,_,this)};var x=function(g){return g.$u?p.utc():p()};I.toNow=function(g){return this.to(x(this),g)},I.fromNow=function(g){return this.from(x(this),g)}}})})(Me);var Be=Me.exports;const Ke=_e(Be);var Ge={exports:{}};(function(t,e){(function(i,o){t.exports=o(xe())})(ce,function(i){function o(v){return v&&typeof v=="object"&&"default"in v?v:{default:v}}var p=o(i),I="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),f="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),N="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),x="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),g=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function _(v,r,h){var u,b;return h==="m"?r?"минута":"минуту":v+" "+(u=+v,b={mm:r?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[h].split("_"),u%10==1&&u%100!=11?b[0]:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?b[1]:b[2])}var O=function(v,r){return g.test(r)?I[v.month()]:f[v.month()]};O.s=f,O.f=I;var R=function(v,r){return g.test(r)?N[v.month()]:x[v.month()]};R.s=x,R.f=N;var D={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:O,monthsShort:R,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:_,mm:_,h:"час",hh:_,d:"день",dd:_,M:"месяц",MM:_,y:"год",yy:_},ordinal:function(v){return v},meridiem:function(v){return v<4?"ночи":v<12?"утра":v<17?"дня":"вечера"}};return p.default.locale(D,null,!0),D})})(Ge);ue.extend(Ke);ue.locale("ru");const Ze=3e3,Je=1200,ie=64,Xe=8,Qe=18,et=60,tt=["BTCUSDT","ETHUSDT","SOLUSDT","XRPUSDT","BNBUSDT","DOGEUSDT","ADAUSDT","LTCUSDT"],rt=new Map(tt.map((t,e)=>[t,e]));function te(t){return rt.get(t)??Number.POSITIVE_INFINITY}function nt(t){return[...t].sort((e,i)=>{const o=te(e.symbol)-te(i.symbol);return o!==0?o:e.symbol.localeCompare(i.symbol)})}function $e(t){if(t===null||Number.isNaN(t))return"-";const e=Math.abs(t),i=e>=1e3?0:e>=100?1:e>=1?2:4;return t.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:i})}function Ie(t){if(t===null||!Number.isFinite(t))return{text:"-"};const e=Math.abs(t)>=100?1:2,i=Math.abs(t).toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:e});return t>0?{text:`▲ ${i}%`,direction:"up"}:t<0?{text:`▼ ${i}%`,direction:"down"}:{text:`${i}%`}}function Ne(t,e){return t==null||Number.isNaN(t)?"-":`${e==="up"?"▲ ":e==="down"?"▼ ":""}${t.toLocaleString("ru-RU",{notation:"compact",maximumFractionDigits:2})}`}function Te(t){return t===null||!Number.isFinite(t)?"":t>0?"change-positive":t<0?"change-negative":""}function st(t,e){if(!e)return nt(t);const{timeframe:i,direction:o,mode:p}=e,I=o==="desc"?-1:1;return[...t].sort((f,N)=>{const x=f.metrics[i],g=N.metrics[i],_=p==="volume"?x==null?void 0:x.turnover:x==null?void 0:x.changePercent,O=p==="volume"?g==null?void 0:g.turnover:g==null?void 0:g.changePercent,R=r=>r==null||!Number.isFinite(r)?o==="desc"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:r,D=R(_)-R(O);if(D!==0)return D*I;const v=te(f.symbol)-te(N.symbol);return v!==0?v:f.symbol.localeCompare(N.symbol)})}const le=j.memo(function({timeframe:e,mode:i,sort:o,onToggle:p,columnIndex:I}){const f=(o==null?void 0:o.timeframe)===e&&(o==null?void 0:o.mode)===i,N=f?o==null?void 0:o.direction:void 0;return c.jsx("div",{role:"columnheader",className:G("cell","header","sortable",{active:f}),style:{gridColumn:I},children:c.jsxs("button",{type:"button",onClick:()=>p(e,i),children:[c.jsx("span",{children:e}),f&&c.jsx("span",{className:"sort-indicator",children:N==="desc"?"▼":"▲"})]})})});le.displayName="HeaderButton";const de=j.memo(function({entry:e,flashes:i,isEven:o,style:p}){const I={...p??{},width:"auto",minWidth:"max-content",display:"grid"};return c.jsxs("div",{role:"row",className:G("table-row",o?"table-row-even":"table-row-odd"),style:I,children:[c.jsxs("div",{role:"cell",className:"cell pair-cell",children:[c.jsx("div",{className:"pair-symbol",children:e.symbol}),c.jsxs("div",{className:"pair-sub",children:[e.baseCoin," / ",e.quoteCoin]})]}),c.jsx("div",{role:"cell",className:"cell price-cell",children:$e(e.lastPrice)}),Y.map((f,N)=>{const x=e.metrics[f],g=(x==null?void 0:x.changePercent)??null,_=Ie(g),O=`change|${e.symbol}|${f}`,R=i[O]??_.direction;return c.jsx("div",{role:"cell",className:G("cell","metric-cell",Te(g),{"flash-up":R==="up","flash-down":R==="down","first-change-cell":N===0}),color:"red",children:_.text},`change-${e.symbol}-${f}`)}),Y.map((f,N)=>{const x=e.metrics[f],g=`volume|${e.symbol}|${f}`,_=i[g];return c.jsx("div",{role:"cell",className:G("cell","metric-cell",{"flash-up":_==="up","flash-down":_==="down","first-volume-cell":N===0}),children:Ne(x==null?void 0:x.turnover,_)},`volume-${e.symbol}-${f}`)}),c.jsx("div",{role:"cell",className:"cell chart-cell",children:c.jsx(be,{className:"chart-link",to:`/chart/${e.symbol}`,target:"_blank",rel:"noopener noreferrer",children:"График"})})]})});de.displayName="DesktopRow";const it=j.forwardRef(function({style:e,...i},o){const{width:p,...I}=e??{},f={...I,overflowX:"visible",width:"auto",minWidth:"max-content"};return c.jsx("div",{ref:o,...i,style:f})}),ot=j.forwardRef(function({style:e,...i},o){const{width:p,...I}=e??{},f={...I,width:"auto",minWidth:"max-content"};return c.jsx("div",{ref:o,...i,style:f})}),De=j.memo(function({index:e,style:i,data:o}){const p=o.entries[e];return p?c.jsx(de,{entry:p,flashes:o.flashes,isEven:e%2===0,style:i}):null},Ve);De.displayName="VirtualizedRow";const je=j.memo(function({entry:e,flashes:i}){return c.jsxs("article",{className:"mobile-card",children:[c.jsxs("header",{className:"mobile-card-header",children:[c.jsxs("div",{children:[c.jsx("div",{className:"pair-symbol",children:e.symbol}),c.jsxs("div",{className:"pair-sub",children:[e.baseCoin," / ",e.quoteCoin]})]}),c.jsx("div",{className:"mobile-price",children:$e(e.lastPrice)})]}),c.jsx("div",{className:"mobile-metrics",children:Y.map(o=>{const p=e.metrics[o],I=(p==null?void 0:p.changePercent)??null,f=Ie(I),N=`change|${e.symbol}|${o}`,x=i[N]??f.direction,g=`volume|${e.symbol}|${o}`,_=i[g];return c.jsxs("div",{className:"mobile-metric-row",children:[c.jsx("span",{className:"mobile-metric-timeframe",children:o}),c.jsx("span",{className:G("mobile-metric-change",Te(I),{"flash-up":x==="up","flash-down":x==="down"}),children:f.text}),c.jsx("span",{className:G("mobile-metric-volume",{"flash-up":_==="up","flash-down":_==="down"}),children:Ne(p==null?void 0:p.turnover,_)})]},`${e.symbol}-${o}`)})}),c.jsx("footer",{className:"mobile-card-footer",children:c.jsx(be,{className:"chart-link",to:`/chart/${e.symbol}`,target:"_blank",rel:"noopener noreferrer",children:"График"})})]},e.symbol)});je.displayName="MobileCard";function at(){const[t,e]=j.useState(()=>typeof window>"u"?900:window.innerHeight);return j.useEffect(()=>{const i=()=>e(window.innerHeight);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),t}function ut(){const[t,e]=j.useState(null),[i,o]=j.useState(!0),[p,I]=j.useState(null),[f,N]=j.useState(null),[x,g]=j.useState(!1),[_,O]=j.useState({}),R=j.useRef(null),D=j.useRef(new Map),v=at();j.useRef(null);const[r,h]=j.useState(1200);j.useEffect(()=>{const n=window.matchMedia("(max-width: 768px)"),s=()=>g(n.matches);return s(),n.addEventListener("change",s),()=>n.removeEventListener("change",s)},[]),j.useEffect(()=>{let n=!0,s;const l=new Set,a=()=>{n&&(s=window.setTimeout(m,Ze))},m=async()=>{const d=new AbortController;l.add(d);try{const M=await Ce({signal:d.signal});if(!n)return;e(M),I(null),o(!1)}catch(M){if(d.signal.aborted||!n)return;console.error(M),I(M instanceof Error?M.message:"Неизвестная ошибка"),o(!1)}finally{l.delete(d),n&&a()}};return m(),()=>{n=!1,s!==void 0&&window.clearTimeout(s);for(const d of l)d.abort();l.clear()}},[]),j.useEffect(()=>()=>{for(const n of D.current.values())window.clearTimeout(n);D.current.clear()},[]),j.useEffect(()=>{if(!t)return;const n=R.current,s={};if(n){const l=new Map(n.entries.map(a=>[a.symbol,a]));for(const a of t.entries){const m=l.get(a.symbol);if(m)for(const d of Y){const M=a.metrics[d],T=m.metrics[d];if(M&&T){const P=M.changePercent,E=T.changePercent;if(P!==null&&E!==null&&P!==E){const U=P-E;s[`change|${a.symbol}|${d}`]=U>=0?"up":"down"}const A=M.turnover,V=T.turnover;if(Number.isFinite(A)&&Number.isFinite(V)&&A!==V){const U=(A??0)-(V??0);s[`volume|${a.symbol}|${d}`]=U>=0?"up":"down"}}}}}R.current=t,Object.keys(s).length!==0&&O(l=>{const a={...l,...s};for(const[m]of Object.entries(s)){const d=D.current.get(m);d&&window.clearTimeout(d);const M=window.setTimeout(()=>{O(T=>{if(!(m in T))return T;const{[m]:P,...E}=T;return E}),D.current.delete(m)},Je);D.current.set(m,M)}return a})},[t]);const u=j.useCallback((n,s)=>{N(l=>!l||l.timeframe!==n||l.mode!==s?{timeframe:n,mode:s,direction:"desc"}:l.direction==="desc"?{timeframe:n,mode:s,direction:"asc"}:null)},[]),b=j.useMemo(()=>{if(!t)return new Map;const n=t.updatedAt??Date.now(),s=new Map;for(const l of Y){const a=Oe[l];let m=0,d=0;for(const M of t.entries){const T=M.metrics[l];!T||T.changePercent===null||Number.isFinite(a)&&n-T.openTime>a||(T.changePercent>0?m+=1:T.changePercent<0&&(d+=1))}s.set(l,{gainers:m,losers:d})}return s},[t]),y=j.useMemo(()=>t?st(t.entries,f):[],[t,f]),L=j.useMemo(()=>t?ue(t.updatedAt).fromNow():"",[t]),S=j.useMemo(()=>{const n=new Array(Y.length).fill("120px"),s=new Array(Y.length).fill("140px");return["220px","120px",...n,...s,"120px"].join(" ")},[]),$=3,z=3+Y.length,F=z+Y.length,H=j.useMemo(()=>({"--grid-template":S}),[S]),k=j.useMemo(()=>{if(y.length===0)return 1;const n=Math.floor((v-320)/ie),s=Math.max(Xe,Math.min(Qe,n));return Math.min(y.length,Math.max(1,s))},[y.length,v]),C=j.useMemo(()=>k*ie,[k]),q=y.length>et,Z=j.useMemo(()=>({entries:y,flashes:_}),[y,_]),w=j.useCallback((n,s)=>{var l;return((l=s.entries[n])==null?void 0:l.symbol)??n},[]);return c.jsxs("div",{className:"app",children:[c.jsxs("header",{className:"app-header",children:[c.jsxs("div",{children:[c.jsx("h1",{children:"Монитор рынков Bybit"}),c.jsx("p",{className:"subtitle",children:"Свежие изменения цен и оборотов без перезагрузки страницы"})]}),c.jsx("div",{className:"status-block",children:i?c.jsx("span",{className:"status",children:"Загрузка..."}):p?c.jsxs("span",{className:"status status-error",children:["Ошибка: ",p]}):c.jsxs("span",{className:"status",children:["Обновлено ",L]})})]}),c.jsxs("section",{className:"overview",children:[c.jsx("h2",{children:"Изменение %"}),c.jsx("div",{className:"overview-row",children:Y.map(n=>{const s=b.get(n)??{gainers:0,losers:0},l=(f==null?void 0:f.timeframe)===n&&(f==null?void 0:f.mode)==="change",a=l?f==null?void 0:f.direction:void 0;return c.jsxs("button",{type:"button",className:G("overview-card",{active:l}),onClick:()=>u(n,"change"),children:[c.jsxs("div",{className:"overview-header",children:[c.jsx("span",{children:n}),l&&c.jsx("span",{className:"overview-direction",children:a==="desc"?"▼":"▲"})]}),c.jsxs("div",{className:"overview-content",children:[c.jsxs("span",{className:"positive",children:["▲ Рост ",s.gainers]}),c.jsxs("span",{className:"negative",children:["▼ Падение ",s.losers]})]})]},n)})})]}),!x&&c.jsx("section",{className:"table-section",children:c.jsx("div",{className:"table-scroll",children:c.jsxs("div",{className:"table-grid",role:"table",style:H,children:[c.jsxs("div",{className:"table-header",role:"rowgroup",children:[c.jsxs("div",{className:"table-header-row",role:"row",children:[c.jsx("div",{role:"columnheader",className:"cell header pair-header",children:"Торговая пара"}),c.jsx("div",{role:"columnheader",className:"cell header price-header",children:"Последняя цена"}),c.jsx("div",{role:"columnheader",className:"cell header group-header",style:{gridColumn:`${$} / span ${Y.length}`},children:"Изменение %"}),c.jsx("div",{role:"columnheader",className:"cell header group-header",style:{gridColumn:`${z} / span ${Y.length}`},children:"Оборот (USDT)"}),c.jsx("div",{role:"columnheader",className:"cell header chart-header-cell",style:{gridColumn:`${F} / span 1`},children:"График"})]}),c.jsxs("div",{className:"table-header-row secondary",role:"row",children:[Y.map((n,s)=>c.jsx(le,{timeframe:n,mode:"change",sort:f,onToggle:u,columnIndex:$+s},`change-header-${n}`)),Y.map((n,s)=>c.jsx(le,{timeframe:n,mode:"volume",sort:f,onToggle:u,columnIndex:z+s},`volume-header-${n}`))]})]}),c.jsxs("div",{className:"table-body",role:"rowgroup",children:[i&&c.jsx("div",{role:"row",className:"table-placeholder",children:c.jsx("div",{className:"cell",style:{gridColumn:`1 / span ${F}`},children:"Загружаем данные..."})}),!i&&y.length===0&&c.jsx("div",{role:"row",className:"table-placeholder",children:c.jsx("div",{className:"cell",style:{gridColumn:`1 / span ${F}`},children:"Нет данных для отображения."})}),!i&&y.length>0&&q&&c.jsx(We,{height:C,itemCount:y.length,itemData:Z,itemSize:ie,width:"100%",itemKey:w,className:"virtual-list",outerElementType:it,innerElementType:ot,children:De}),!i&&y.length>0&&!q&&c.jsx("div",{className:"static-rows",children:y.map((n,s)=>c.jsx(de,{entry:n,flashes:_,isEven:s%2===0},n.symbol))})]})]})})}),x&&c.jsx("section",{className:"mobile-list",children:y.map(n=>c.jsx(je,{entry:n,flashes:_},`mobile-${n.symbol}`))})]})}export{ut as MarketPage};
//# sourceMappingURL=MarketPage-7ADr1RID.js.map
