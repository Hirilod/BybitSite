import{r as C,c as ce,g as _e,j as d,L as be}from"./index-DD44odl4.js";import{T as W,a as Oe,c as G,f as Ce}from"./api-Br7rnAeQ.js";function oe(){return oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},oe.apply(null,arguments)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(t,e){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ae(t,e)}function Le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ae(t,e)}var me=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Re(t,e){return!!(t===e||me(t)&&me(e))}function ze(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Re(t[n],e[n]))return!1;return!0}function re(t,e){e===void 0&&(e=ze);var n,a=[],h,T=!1;function g(){for(var $=[],x=0;x<arguments.length;x++)$[x]=arguments[x];return T&&n===this&&e($,a)||(h=t.apply(this,$),T=!0,n=this,a=$),h}return g}function fe(t,e){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;n[a]=t[a]}return n}var Ee=typeof performance=="object"&&typeof performance.now=="function",pe=Ee?function(){return performance.now()}:function(){return Date.now()};function ve(t){cancelAnimationFrame(t.id)}function Pe(t,e){var n=pe();function a(){pe()-n>=e?t.call(null):h.id=requestAnimationFrame(a)}var h={id:requestAnimationFrame(a)};return h}var ne=-1;function ge(t){if(t===void 0&&(t=!1),ne===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),ne=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ne}var J=null;function ye(t){if(t===void 0&&(t=!1),J===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var a=document.createElement("div"),h=a.style;return h.width="100px",h.height="100px",e.appendChild(a),document.body.appendChild(e),e.scrollLeft>0?J="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?J="negative":J="positive-ascending"),document.body.removeChild(e),J}return J}var ke=150,Fe=function(e,n){return e};function Ae(t){var e,n=t.getItemOffset,a=t.getEstimatedTotalSize,h=t.getItemSize,T=t.getOffsetForIndexAndAlignment,g=t.getStartIndexForOffset,$=t.getStopIndexForStartIndex,x=t.initInstanceProps,y=t.shouldResetStyleCacheOnItemSizeChange,_=t.validateProps;return e=function(D){Le(z,D);function z(v){var r;return r=D.call(this,v)||this,r._instanceProps=x(r.props,he(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:he(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof r.props.initialScrollOffset=="number"?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=re(function(m,c,b,I){return r.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:c,visibleStartIndex:b,visibleStopIndex:I})}),r._callOnScroll=void 0,r._callOnScroll=re(function(m,c,b){return r.props.onScroll({scrollDirection:m,scrollOffset:c,scrollUpdateWasRequested:b})}),r._getItemStyle=void 0,r._getItemStyle=function(m){var c=r.props,b=c.direction,I=c.itemSize,L=c.layout,w=r._getItemStyleCache(y&&I,y&&L,y&&b),M;if(w.hasOwnProperty(m))M=w[m];else{var E=n(r.props,m,r._instanceProps),A=h(r.props,m,r._instanceProps),Y=b==="horizontal"||L==="horizontal",P=b==="rtl",j=Y?E:0;w[m]=M={position:"absolute",left:P?void 0:j,right:P?j:void 0,top:Y?0:E,height:Y?"100%":A,width:Y?A:"100%"}}return M},r._getItemStyleCache=void 0,r._getItemStyleCache=re(function(m,c,b){return{}}),r._onScrollHorizontal=function(m){var c=m.currentTarget,b=c.clientWidth,I=c.scrollLeft,L=c.scrollWidth;r.setState(function(w){if(w.scrollOffset===I)return null;var M=r.props.direction,E=I;if(M==="rtl")switch(ye()){case"negative":E=-I;break;case"positive-descending":E=L-b-I;break}return E=Math.max(0,Math.min(E,L-b)),{isScrolling:!0,scrollDirection:w.scrollOffset<I?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._onScrollVertical=function(m){var c=m.currentTarget,b=c.clientHeight,I=c.scrollHeight,L=c.scrollTop;r.setState(function(w){if(w.scrollOffset===L)return null;var M=Math.max(0,Math.min(L,I-b));return{isScrolling:!0,scrollDirection:w.scrollOffset<M?"forward":"backward",scrollOffset:M,scrollUpdateWasRequested:!1}},r._resetIsScrollingDebounced)},r._outerRefSetter=function(m){var c=r.props.outerRef;r._outerRef=m,typeof c=="function"?c(m):c!=null&&typeof c=="object"&&c.hasOwnProperty("current")&&(c.current=m)},r._resetIsScrollingDebounced=function(){r._resetIsScrollingTimeoutId!==null&&ve(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Pe(r._resetIsScrolling,ke)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},function(){r._getItemStyleCache(-1,null)})},r}z.getDerivedStateFromProps=function(r,m){return He(r,m),_(r),null};var N=z.prototype;return N.scrollTo=function(r){r=Math.max(0,r),this.setState(function(m){return m.scrollOffset===r?null:{scrollDirection:m.scrollOffset<r?"forward":"backward",scrollOffset:r,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},N.scrollToItem=function(r,m){m===void 0&&(m="auto");var c=this.props,b=c.itemCount,I=c.layout,L=this.state.scrollOffset;r=Math.max(0,Math.min(r,b-1));var w=0;if(this._outerRef){var M=this._outerRef;I==="vertical"?w=M.scrollWidth>M.clientWidth?ge():0:w=M.scrollHeight>M.clientHeight?ge():0}this.scrollTo(T(this.props,r,m,L,this._instanceProps,w))},N.componentDidMount=function(){var r=this.props,m=r.direction,c=r.initialScrollOffset,b=r.layout;if(typeof c=="number"&&this._outerRef!=null){var I=this._outerRef;m==="horizontal"||b==="horizontal"?I.scrollLeft=c:I.scrollTop=c}this._callPropsCallbacks()},N.componentDidUpdate=function(){var r=this.props,m=r.direction,c=r.layout,b=this.state,I=b.scrollOffset,L=b.scrollUpdateWasRequested;if(L&&this._outerRef!=null){var w=this._outerRef;if(m==="horizontal"||c==="horizontal")if(m==="rtl")switch(ye()){case"negative":w.scrollLeft=-I;break;case"positive-ascending":w.scrollLeft=I;break;default:var M=w.clientWidth,E=w.scrollWidth;w.scrollLeft=E-M-I;break}else w.scrollLeft=I;else w.scrollTop=I}this._callPropsCallbacks()},N.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ve(this._resetIsScrollingTimeoutId)},N.render=function(){var r=this.props,m=r.children,c=r.className,b=r.direction,I=r.height,L=r.innerRef,w=r.innerElementType,M=r.innerTagName,E=r.itemCount,A=r.itemData,Y=r.itemKey,P=Y===void 0?Fe:Y,j=r.layout,V=r.outerElementType,S=r.outerTagName,l=r.style,s=r.useIsScrolling,i=r.width,u=this.state.isScrolling,o=b==="horizontal"||j==="horizontal",p=o?this._onScrollHorizontal:this._onScrollVertical,f=this._getRangeToRender(),O=f[0],R=f[1],F=[];if(E>0)for(var k=O;k<=R;k++)F.push(C.createElement(m,{data:A,key:P(k,A),index:k,isScrolling:s?u:void 0,style:this._getItemStyle(k)}));var H=a(this.props,this._instanceProps);return C.createElement(V||S||"div",{className:c,onScroll:p,ref:this._outerRefSetter,style:oe({position:"relative",height:I,width:i,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:b},l)},C.createElement(w||M||"div",{children:F,ref:L,style:{height:o?"100%":H,pointerEvents:u?"none":void 0,width:o?H:"100%"}}))},N._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var r=this.props.itemCount;if(r>0){var m=this._getRangeToRender(),c=m[0],b=m[1],I=m[2],L=m[3];this._callOnItemsRendered(c,b,I,L)}}if(typeof this.props.onScroll=="function"){var w=this.state,M=w.scrollDirection,E=w.scrollOffset,A=w.scrollUpdateWasRequested;this._callOnScroll(M,E,A)}},N._getRangeToRender=function(){var r=this.props,m=r.itemCount,c=r.overscanCount,b=this.state,I=b.isScrolling,L=b.scrollDirection,w=b.scrollOffset;if(m===0)return[0,0,0,0];var M=g(this.props,w,this._instanceProps),E=$(this.props,M,w,this._instanceProps),A=!I||L==="backward"?Math.max(1,c):1,Y=!I||L==="forward"?Math.max(1,c):1;return[Math.max(0,M-A),Math.max(0,Math.min(m-1,E+Y)),M,E]},z}(C.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var He=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},Ye=Ae({getItemOffset:function(e,n){var a=e.itemSize;return n*a},getItemSize:function(e,n){var a=e.itemSize;return a},getEstimatedTotalSize:function(e){var n=e.itemCount,a=e.itemSize;return a*n},getOffsetForIndexAndAlignment:function(e,n,a,h,T,g){var $=e.direction,x=e.height,y=e.itemCount,_=e.itemSize,D=e.layout,z=e.width,N=$==="horizontal"||D==="horizontal",v=N?z:x,r=Math.max(0,y*_-v),m=Math.min(r,n*_),c=Math.max(0,n*_-v+_+g);switch(a==="smart"&&(h>=c-v&&h<=m+v?a="auto":a="center"),a){case"start":return m;case"end":return c;case"center":{var b=Math.round(c+(m-c)/2);return b<Math.ceil(v/2)?0:b>r+Math.floor(v/2)?r:b}case"auto":default:return h>=c&&h<=m?h:h<c?c:m}},getStartIndexForOffset:function(e,n){var a=e.itemCount,h=e.itemSize;return Math.max(0,Math.min(a-1,Math.floor(n/h)))},getStopIndexForStartIndex:function(e,n,a){var h=e.direction,T=e.height,g=e.itemCount,$=e.itemSize,x=e.layout,y=e.width,_=h==="horizontal"||x==="horizontal",D=n*$,z=_?y:T,N=Math.ceil((z+a-D)/$);return Math.max(0,Math.min(g-1,n+N-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function Se(t,e){for(var n in t)if(!(n in e))return!0;for(var a in e)if(t[a]!==e[a])return!0;return!1}var Ue=["style"],We=["style"];function Ve(t,e){var n=t.style,a=fe(t,Ue),h=e.style,T=fe(e,We);return!Se(n,h)&&!Se(a,T)}var se={exports:{}},we;function xe(){return we||(we=1,function(t,e){(function(n,a){t.exports=a()})(ce,function(){var n=1e3,a=6e4,h=36e5,T="millisecond",g="second",$="minute",x="hour",y="day",_="week",D="month",z="quarter",N="year",v="date",r="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var s=["th","st","nd","rd"],i=l%100;return"["+l+(s[(i-20)%10]||s[i]||s[0])+"]"}},I=function(l,s,i){var u=String(l);return!u||u.length>=s?l:""+Array(s+1-u.length).join(i)+l},L={s:I,z:function(l){var s=-l.utcOffset(),i=Math.abs(s),u=Math.floor(i/60),o=i%60;return(s<=0?"+":"-")+I(u,2,"0")+":"+I(o,2,"0")},m:function l(s,i){if(s.date()<i.date())return-l(i,s);var u=12*(i.year()-s.year())+(i.month()-s.month()),o=s.clone().add(u,D),p=i-o<0,f=s.clone().add(u+(p?-1:1),D);return+(-(u+(i-o)/(p?o-f:f-o))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M:D,y:N,w:_,d:y,D:v,h:x,m:$,s:g,ms:T,Q:z}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},w="en",M={};M[w]=b;var E="$isDayjsObject",A=function(l){return l instanceof V||!(!l||!l[E])},Y=function l(s,i,u){var o;if(!s)return w;if(typeof s=="string"){var p=s.toLowerCase();M[p]&&(o=p),i&&(M[p]=i,o=p);var f=s.split("-");if(!o&&f.length>1)return l(f[0])}else{var O=s.name;M[O]=s,o=O}return!u&&o&&(w=o),o||!u&&w},P=function(l,s){if(A(l))return l.clone();var i=typeof s=="object"?s:{};return i.date=l,i.args=arguments,new V(i)},j=L;j.l=Y,j.i=A,j.w=function(l,s){return P(l,{locale:s.$L,utc:s.$u,x:s.$x,$offset:s.$offset})};var V=function(){function l(i){this.$L=Y(i.locale,null,!0),this.parse(i),this.$x=this.$x||i.x||{},this[E]=!0}var s=l.prototype;return s.parse=function(i){this.$d=function(u){var o=u.date,p=u.utc;if(o===null)return new Date(NaN);if(j.u(o))return new Date;if(o instanceof Date)return new Date(o);if(typeof o=="string"&&!/Z$/i.test(o)){var f=o.match(m);if(f){var O=f[2]-1||0,R=(f[7]||"0").substring(0,3);return p?new Date(Date.UTC(f[1],O,f[3]||1,f[4]||0,f[5]||0,f[6]||0,R)):new Date(f[1],O,f[3]||1,f[4]||0,f[5]||0,f[6]||0,R)}}return new Date(o)}(i),this.init()},s.init=function(){var i=this.$d;this.$y=i.getFullYear(),this.$M=i.getMonth(),this.$D=i.getDate(),this.$W=i.getDay(),this.$H=i.getHours(),this.$m=i.getMinutes(),this.$s=i.getSeconds(),this.$ms=i.getMilliseconds()},s.$utils=function(){return j},s.isValid=function(){return this.$d.toString()!==r},s.isSame=function(i,u){var o=P(i);return this.startOf(u)<=o&&o<=this.endOf(u)},s.isAfter=function(i,u){return P(i)<this.startOf(u)},s.isBefore=function(i,u){return this.endOf(u)<P(i)},s.$g=function(i,u,o){return j.u(i)?this[u]:this.set(o,i)},s.unix=function(){return Math.floor(this.valueOf()/1e3)},s.valueOf=function(){return this.$d.getTime()},s.startOf=function(i,u){var o=this,p=!!j.u(u)||u,f=j.p(i),O=function(K,U){var q=j.w(o.$u?Date.UTC(o.$y,U,K):new Date(o.$y,U,K),o);return p?q:q.endOf(y)},R=function(K,U){return j.w(o.toDate()[K].apply(o.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(U)),o)},F=this.$W,k=this.$M,H=this.$D,Z="set"+(this.$u?"UTC":"");switch(f){case N:return p?O(1,0):O(31,11);case D:return p?O(1,k):O(0,k+1);case _:var B=this.$locale().weekStart||0,X=(F<B?F+7:F)-B;return O(p?H-X:H+(6-X),k);case y:case v:return R(Z+"Hours",0);case x:return R(Z+"Minutes",1);case $:return R(Z+"Seconds",2);case g:return R(Z+"Milliseconds",3);default:return this.clone()}},s.endOf=function(i){return this.startOf(i,!1)},s.$set=function(i,u){var o,p=j.p(i),f="set"+(this.$u?"UTC":""),O=(o={},o[y]=f+"Date",o[v]=f+"Date",o[D]=f+"Month",o[N]=f+"FullYear",o[x]=f+"Hours",o[$]=f+"Minutes",o[g]=f+"Seconds",o[T]=f+"Milliseconds",o)[p],R=p===y?this.$D+(u-this.$W):u;if(p===D||p===N){var F=this.clone().set(v,1);F.$d[O](R),F.init(),this.$d=F.set(v,Math.min(this.$D,F.daysInMonth())).$d}else O&&this.$d[O](R);return this.init(),this},s.set=function(i,u){return this.clone().$set(i,u)},s.get=function(i){return this[j.p(i)]()},s.add=function(i,u){var o,p=this;i=Number(i);var f=j.p(u),O=function(k){var H=P(p);return j.w(H.date(H.date()+Math.round(k*i)),p)};if(f===D)return this.set(D,this.$M+i);if(f===N)return this.set(N,this.$y+i);if(f===y)return O(1);if(f===_)return O(7);var R=(o={},o[$]=a,o[x]=h,o[g]=n,o)[f]||1,F=this.$d.getTime()+i*R;return j.w(F,this)},s.subtract=function(i,u){return this.add(-1*i,u)},s.format=function(i){var u=this,o=this.$locale();if(!this.isValid())return o.invalidDate||r;var p=i||"YYYY-MM-DDTHH:mm:ssZ",f=j.z(this),O=this.$H,R=this.$m,F=this.$M,k=o.weekdays,H=o.months,Z=o.meridiem,B=function(U,q,Q,ee){return U&&(U[q]||U(u,p))||Q[q].slice(0,ee)},X=function(U){return j.s(O%12||12,U,"0")},K=Z||function(U,q,Q){var ee=U<12?"AM":"PM";return Q?ee.toLowerCase():ee};return p.replace(c,function(U,q){return q||function(Q){switch(Q){case"YY":return String(u.$y).slice(-2);case"YYYY":return j.s(u.$y,4,"0");case"M":return F+1;case"MM":return j.s(F+1,2,"0");case"MMM":return B(o.monthsShort,F,H,3);case"MMMM":return B(H,F);case"D":return u.$D;case"DD":return j.s(u.$D,2,"0");case"d":return String(u.$W);case"dd":return B(o.weekdaysMin,u.$W,k,2);case"ddd":return B(o.weekdaysShort,u.$W,k,3);case"dddd":return k[u.$W];case"H":return String(O);case"HH":return j.s(O,2,"0");case"h":return X(1);case"hh":return X(2);case"a":return K(O,R,!0);case"A":return K(O,R,!1);case"m":return String(R);case"mm":return j.s(R,2,"0");case"s":return String(u.$s);case"ss":return j.s(u.$s,2,"0");case"SSS":return j.s(u.$ms,3,"0");case"Z":return f}return null}(U)||f.replace(":","")})},s.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},s.diff=function(i,u,o){var p,f=this,O=j.p(u),R=P(i),F=(R.utcOffset()-this.utcOffset())*a,k=this-R,H=function(){return j.m(f,R)};switch(O){case N:p=H()/12;break;case D:p=H();break;case z:p=H()/3;break;case _:p=(k-F)/6048e5;break;case y:p=(k-F)/864e5;break;case x:p=k/h;break;case $:p=k/a;break;case g:p=k/n;break;default:p=k}return o?p:j.a(p)},s.daysInMonth=function(){return this.endOf(D).$D},s.$locale=function(){return M[this.$L]},s.locale=function(i,u){if(!i)return this.$L;var o=this.clone(),p=Y(i,u,!0);return p&&(o.$L=p),o},s.clone=function(){return j.w(this.$d,this)},s.toDate=function(){return new Date(this.valueOf())},s.toJSON=function(){return this.isValid()?this.toISOString():null},s.toISOString=function(){return this.$d.toISOString()},s.toString=function(){return this.$d.toUTCString()},l}(),S=V.prototype;return P.prototype=S,[["$ms",T],["$s",g],["$m",$],["$H",x],["$W",y],["$M",D],["$y",N],["$D",v]].forEach(function(l){S[l[1]]=function(s){return this.$g(s,l[0],l[1])}}),P.extend=function(l,s){return l.$i||(l(s,V,P),l.$i=!0),P},P.locale=Y,P.isDayjs=A,P.unix=function(l){return P(1e3*l)},P.en=M[w],P.Ls=M,P.p={},P})}(se)),se.exports}var qe=xe();const ue=_e(qe);var Me={exports:{}};(function(t,e){(function(n,a){t.exports=a()})(ce,function(){return function(n,a,h){n=n||{};var T=a.prototype,g={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(y,_,D,z){return T.fromToBase(y,_,D,z)}h.en.relativeTime=g,T.fromToBase=function(y,_,D,z,N){for(var v,r,m,c=D.$locale().relativeTime||g,b=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],I=b.length,L=0;L<I;L+=1){var w=b[L];w.d&&(v=z?h(y).diff(D,w.d,!0):D.diff(y,w.d,!0));var M=(n.rounding||Math.round)(Math.abs(v));if(m=v>0,M<=w.r||!w.r){M<=1&&L>0&&(w=b[L-1]);var E=c[w.l];N&&(M=N(""+M)),r=typeof E=="string"?E.replace("%d",M):E(M,_,w.l,m);break}}if(_)return r;var A=m?c.future:c.past;return typeof A=="function"?A(r):A.replace("%s",r)},T.to=function(y,_){return $(y,_,this,!0)},T.from=function(y,_){return $(y,_,this)};var x=function(y){return y.$u?h.utc():h()};T.toNow=function(y){return this.to(x(this),y)},T.fromNow=function(y){return this.from(x(this),y)}}})})(Me);var Be=Me.exports;const Ke=_e(Be);var Ge={exports:{}};(function(t,e){(function(n,a){t.exports=a(xe())})(ce,function(n){function a(v){return v&&typeof v=="object"&&"default"in v?v:{default:v}}var h=a(n),T="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),g="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),$="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),x="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),y=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function _(v,r,m){var c,b;return m==="m"?r?"минута":"минуту":v+" "+(c=+v,b={mm:r?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[m].split("_"),c%10==1&&c%100!=11?b[0]:c%10>=2&&c%10<=4&&(c%100<10||c%100>=20)?b[1]:b[2])}var D=function(v,r){return y.test(r)?T[v.month()]:g[v.month()]};D.s=g,D.f=T;var z=function(v,r){return y.test(r)?$[v.month()]:x[v.month()]};z.s=x,z.f=$;var N={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:D,monthsShort:z,weekStart:1,yearStart:4,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:_,mm:_,h:"час",hh:_,d:"день",dd:_,M:"месяц",MM:_,y:"год",yy:_},ordinal:function(v){return v},meridiem:function(v){return v<4?"ночи":v<12?"утра":v<17?"дня":"вечера"}};return h.default.locale(N,null,!0),N})})(Ge);ue.extend(Ke);ue.locale("ru");const Ze=3e3,Je=1200,ie=64,Xe=8,Qe=18,et=60,tt=["BTCUSDT","ETHUSDT","SOLUSDT","XRPUSDT","BNBUSDT","DOGEUSDT","ADAUSDT","LTCUSDT"],rt=new Map(tt.map((t,e)=>[t,e]));function te(t){return rt.get(t)??Number.POSITIVE_INFINITY}function nt(t){return[...t].sort((e,n)=>{const a=te(e.symbol)-te(n.symbol);return a!==0?a:e.symbol.localeCompare(n.symbol)})}function $e(t){if(t===null||Number.isNaN(t))return"-";const e=Math.abs(t),n=e>=1e3?0:e>=100?1:e>=1?2:4;return t.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:n})}function Ie(t){if(t===null||!Number.isFinite(t))return{text:"-"};const e=Math.abs(t)>=100?1:2,n=Math.abs(t).toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:e});return t>0?{text:`▲ ${n}%`,direction:"up"}:t<0?{text:`▼ ${n}%`,direction:"down"}:{text:`${n}%`}}function Ne(t,e){return t==null||Number.isNaN(t)?"-":`${e==="up"?"▲ ":e==="down"?"▼ ":""}${t.toLocaleString("ru-RU",{notation:"compact",maximumFractionDigits:2})}`}function Te(t){return t===null||!Number.isFinite(t)?"":t>0?"change-positive":t<0?"change-negative":""}function st(t,e){if(!e)return nt(t);const{timeframe:n,direction:a,mode:h}=e,T=a==="desc"?-1:1;return[...t].sort((g,$)=>{const x=g.metrics[n],y=$.metrics[n],_=h==="volume"?x==null?void 0:x.turnover:x==null?void 0:x.changePercent,D=h==="volume"?y==null?void 0:y.turnover:y==null?void 0:y.changePercent,z=r=>r==null||!Number.isFinite(r)?a==="desc"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:r,N=z(_)-z(D);if(N!==0)return N*T;const v=te(g.symbol)-te($.symbol);return v!==0?v:g.symbol.localeCompare($.symbol)})}const le=C.memo(function({timeframe:e,mode:n,sort:a,onToggle:h,columnIndex:T}){const g=(a==null?void 0:a.timeframe)===e&&(a==null?void 0:a.mode)===n,$=g?a==null?void 0:a.direction:void 0;return d.jsx("div",{role:"columnheader",className:G("cell","header","sortable",{active:g}),style:{gridColumn:T},children:d.jsxs("button",{type:"button",onClick:()=>h(e,n),children:[d.jsx("span",{children:e}),g&&d.jsx("span",{className:"sort-indicator",children:$==="desc"?"▼":"▲"})]})})});le.displayName="HeaderButton";const de=C.memo(function({entry:e,flashes:n,isEven:a,style:h}){const T=h?{...h,display:"grid"}:void 0;return d.jsxs("div",{role:"row",className:G("table-row",a?"table-row-even":"table-row-odd"),style:T,children:[d.jsxs("div",{role:"cell",className:"cell pair-cell",children:[d.jsx("div",{className:"pair-symbol",children:e.symbol}),d.jsxs("div",{className:"pair-sub",children:[e.baseCoin," / ",e.quoteCoin]})]}),d.jsx("div",{role:"cell",className:"cell price-cell",children:$e(e.lastPrice)}),W.map((g,$)=>{const x=e.metrics[g],y=(x==null?void 0:x.changePercent)??null,_=Ie(y),D=`change|${e.symbol}|${g}`,z=n[D]??_.direction;return d.jsx("div",{role:"cell",className:G("cell","metric-cell",Te(y),{"flash-up":z==="up","flash-down":z==="down","first-change-cell":$===0}),children:_.text},`change-${e.symbol}-${g}`)}),W.map((g,$)=>{const x=e.metrics[g],y=`volume|${e.symbol}|${g}`,_=n[y];return d.jsx("div",{role:"cell",className:G("cell","metric-cell",{"flash-up":_==="up","flash-down":_==="down","first-volume-cell":$===0}),children:Ne(x==null?void 0:x.turnover,_)},`volume-${e.symbol}-${g}`)}),d.jsx("div",{role:"cell",className:"cell chart-cell",children:d.jsx(be,{className:"chart-link",to:`/chart/${e.symbol}`,target:"_blank",rel:"noopener noreferrer",children:"График"})})]})});de.displayName="DesktopRow";const it=C.forwardRef(function({style:e,...n},a){const h=e?{...e}:{};return h.width="100%",h.overflowX=h.overflowX??"hidden",d.jsx("div",{ref:a,...n,style:h})}),De=C.memo(function({index:e,style:n,data:a}){const h=a.entries[e];return h?d.jsx(de,{entry:h,flashes:a.flashes,isEven:e%2===0,style:n}):null},Ve);De.displayName="VirtualizedRow";const je=C.memo(function({entry:e,flashes:n}){return d.jsxs("article",{className:"mobile-card",children:[d.jsxs("header",{className:"mobile-card-header",children:[d.jsxs("div",{children:[d.jsx("div",{className:"pair-symbol",children:e.symbol}),d.jsxs("div",{className:"pair-sub",children:[e.baseCoin," / ",e.quoteCoin]})]}),d.jsx("div",{className:"mobile-price",children:$e(e.lastPrice)})]}),d.jsx("div",{className:"mobile-metrics",children:W.map(a=>{const h=e.metrics[a],T=(h==null?void 0:h.changePercent)??null,g=Ie(T),$=`change|${e.symbol}|${a}`,x=n[$]??g.direction,y=`volume|${e.symbol}|${a}`,_=n[y];return d.jsxs("div",{className:"mobile-metric-row",children:[d.jsx("span",{className:"mobile-metric-timeframe",children:a}),d.jsx("span",{className:G("mobile-metric-change",Te(T),{"flash-up":x==="up","flash-down":x==="down"}),children:g.text}),d.jsx("span",{className:G("mobile-metric-volume",{"flash-up":_==="up","flash-down":_==="down"}),children:Ne(h==null?void 0:h.turnover,_)})]},`${e.symbol}-${a}`)})}),d.jsx("footer",{className:"mobile-card-footer",children:d.jsx(be,{className:"chart-link",to:`/chart/${e.symbol}`,target:"_blank",rel:"noopener noreferrer",children:"График"})})]},e.symbol)});je.displayName="MobileCard";function ot(){const[t,e]=C.useState(()=>typeof window>"u"?900:window.innerHeight);return C.useEffect(()=>{const n=()=>e(window.innerHeight);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function ct(){const[t,e]=C.useState(null),[n,a]=C.useState(!0),[h,T]=C.useState(null),[g,$]=C.useState(null),[x,y]=C.useState(!1),[_,D]=C.useState({}),z=C.useRef(null),N=C.useRef(new Map),v=ot();C.useEffect(()=>{const S=window.matchMedia("(max-width: 768px)"),l=()=>y(S.matches);return l(),S.addEventListener("change",l),()=>S.removeEventListener("change",l)},[]),C.useEffect(()=>{let S=!0,l;const s=new Set,i=()=>{S&&(l=window.setTimeout(u,Ze))},u=async()=>{const o=new AbortController;s.add(o);try{const p=await Ce({signal:o.signal});if(!S)return;e(p),T(null),a(!1)}catch(p){if(o.signal.aborted||!S)return;console.error(p),T(p instanceof Error?p.message:"Неизвестная ошибка"),a(!1)}finally{s.delete(o),S&&i()}};return u(),()=>{S=!1,l!==void 0&&window.clearTimeout(l);for(const o of s)o.abort();s.clear()}},[]),C.useEffect(()=>()=>{for(const S of N.current.values())window.clearTimeout(S);N.current.clear()},[]),C.useEffect(()=>{if(!t)return;const S=z.current,l={};if(S){const s=new Map(S.entries.map(i=>[i.symbol,i]));for(const i of t.entries){const u=s.get(i.symbol);if(u)for(const o of W){const p=i.metrics[o],f=u.metrics[o];if(p&&f){const O=p.changePercent,R=f.changePercent;if(O!==null&&R!==null&&O!==R){const H=O-R;l[`change|${i.symbol}|${o}`]=H>=0?"up":"down"}const F=p.turnover,k=f.turnover;if(Number.isFinite(F)&&Number.isFinite(k)&&F!==k){const H=(F??0)-(k??0);l[`volume|${i.symbol}|${o}`]=H>=0?"up":"down"}}}}}z.current=t,Object.keys(l).length!==0&&D(s=>{const i={...s,...l};for(const[u]of Object.entries(l)){const o=N.current.get(u);o&&window.clearTimeout(o);const p=window.setTimeout(()=>{D(f=>{if(!(u in f))return f;const{[u]:O,...R}=f;return R}),N.current.delete(u)},Je);N.current.set(u,p)}return i})},[t]);const r=C.useCallback((S,l)=>{$(s=>!s||s.timeframe!==S||s.mode!==l?{timeframe:S,mode:l,direction:"desc"}:s.direction==="desc"?{timeframe:S,mode:l,direction:"asc"}:null)},[]),m=C.useMemo(()=>{if(!t)return new Map;const S=t.updatedAt??Date.now(),l=new Map;for(const s of W){const i=Oe[s];let u=0,o=0;for(const p of t.entries){const f=p.metrics[s];!f||f.changePercent===null||Number.isFinite(i)&&S-f.openTime>i||(f.changePercent>0?u+=1:f.changePercent<0&&(o+=1))}l.set(s,{gainers:u,losers:o})}return l},[t]),c=C.useMemo(()=>t?st(t.entries,g):[],[t,g]),b=C.useMemo(()=>t?ue(t.updatedAt).fromNow():"",[t]),I=C.useMemo(()=>{const S=new Array(W.length).fill("120px"),l=new Array(W.length).fill("140px");return["220px","120px",...S,...l,"120px"].join(" ")},[]),L=3,w=3+W.length,M=w+W.length,E=C.useMemo(()=>({"--grid-template":I}),[I]),A=C.useMemo(()=>{if(c.length===0)return 1;const S=Math.floor((v-320)/ie),l=Math.max(Xe,Math.min(Qe,S));return Math.min(c.length,Math.max(1,l))},[c.length,v]),Y=C.useMemo(()=>A*ie,[A]),P=c.length>et,j=C.useMemo(()=>({entries:c,flashes:_}),[c,_]),V=C.useCallback((S,l)=>{var s;return((s=l.entries[S])==null?void 0:s.symbol)??S},[]);return d.jsxs("div",{className:"app",children:[d.jsxs("header",{className:"app-header",children:[d.jsxs("div",{children:[d.jsx("h1",{children:"Монитор рынков Bybit"}),d.jsx("p",{className:"subtitle",children:"Свежие изменения цен и оборотов без перезагрузки страницы"})]}),d.jsx("div",{className:"status-block",children:n?d.jsx("span",{className:"status",children:"Загрузка..."}):h?d.jsxs("span",{className:"status status-error",children:["Ошибка: ",h]}):d.jsxs("span",{className:"status",children:["Обновлено ",b]})})]}),d.jsxs("section",{className:"overview",children:[d.jsx("h2",{children:"Изменение %"}),d.jsx("div",{className:"overview-row",children:W.map(S=>{const l=m.get(S)??{gainers:0,losers:0},s=(g==null?void 0:g.timeframe)===S&&(g==null?void 0:g.mode)==="change",i=s?g==null?void 0:g.direction:void 0;return d.jsxs("button",{type:"button",className:G("overview-card",{active:s}),onClick:()=>r(S,"change"),children:[d.jsxs("div",{className:"overview-header",children:[d.jsx("span",{children:S}),s&&d.jsx("span",{className:"overview-direction",children:i==="desc"?"▼":"▲"})]}),d.jsxs("div",{className:"overview-content",children:[d.jsxs("span",{className:"positive",children:["▲ Рост ",l.gainers]}),d.jsxs("span",{className:"negative",children:["▼ Падение ",l.losers]})]})]},S)})})]}),!x&&d.jsx("section",{className:"table-section",children:d.jsx("div",{className:"table-scroll",children:d.jsxs("div",{className:"table-grid",role:"table",style:E,children:[d.jsxs("div",{className:"table-header",role:"rowgroup",children:[d.jsxs("div",{className:"table-header-row",role:"row",children:[d.jsx("div",{role:"columnheader",className:"cell header pair-header",children:"Торговая пара"}),d.jsx("div",{role:"columnheader",className:"cell header price-header",children:"Последняя цена"}),d.jsx("div",{role:"columnheader",className:"cell header group-header",style:{gridColumn:`${L} / span ${W.length}`},children:"Изменение %"}),d.jsx("div",{role:"columnheader",className:"cell header group-header",style:{gridColumn:`${w} / span ${W.length}`},children:"Оборот (USDT)"}),d.jsx("div",{role:"columnheader",className:"cell header chart-header-cell",style:{gridColumn:`${M} / span 1`},children:"График"})]}),d.jsxs("div",{className:"table-header-row secondary",role:"row",children:[W.map((S,l)=>d.jsx(le,{timeframe:S,mode:"change",sort:g,onToggle:r,columnIndex:L+l},`change-header-${S}`)),W.map((S,l)=>d.jsx(le,{timeframe:S,mode:"volume",sort:g,onToggle:r,columnIndex:w+l},`volume-header-${S}`))]})]}),d.jsxs("div",{className:"table-body",role:"rowgroup",children:[n&&d.jsx("div",{role:"row",className:"table-placeholder",children:d.jsx("div",{className:"cell",style:{gridColumn:`1 / span ${M}`},children:"Загружаем данные..."})}),!n&&c.length===0&&d.jsx("div",{role:"row",className:"table-placeholder",children:d.jsx("div",{className:"cell",style:{gridColumn:`1 / span ${M}`},children:"Нет данных для отображения."})}),!n&&c.length>0&&P&&d.jsx(Ye,{height:Y,itemCount:c.length,itemData:j,itemSize:ie,width:"100%",itemKey:V,className:"virtual-list",outerElementType:it,children:De}),!n&&c.length>0&&!P&&d.jsx("div",{className:"static-rows",children:c.map((S,l)=>d.jsx(de,{entry:S,flashes:_,isEven:l%2===0},S.symbol))})]})]})})}),x&&d.jsx("section",{className:"mobile-list",children:c.map(S=>d.jsx(je,{entry:S,flashes:_},`mobile-${S.symbol}`))})]})}export{ct as MarketPage};
//# sourceMappingURL=MarketPage-G8szwfg-.js.map
